<!DOCTYPE html><html class="default" lang="en"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>WorkflowService | @hotmeshio/hotmesh</title><meta name="description" content="Documentation for @hotmeshio/hotmesh"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="../assets/style.css"/><link rel="stylesheet" href="../assets/highlight.css"/><link rel="stylesheet" href="../assets/custom.css"/><script defer src="../assets/main.js"></script><script async src="../assets/icons.js" id="tsd-icons-script"></script><script async src="../assets/search.js" id="tsd-search-script"></script><script async src="../assets/navigation.js" id="tsd-nav-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><div class="table-cell" id="tsd-search" data-base=".."><div class="field"><label for="tsd-search-field" class="tsd-widget tsd-toolbar-icon search no-caption"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-search"></use></svg></label><input type="text" id="tsd-search-field" aria-label="Search"/></div><div class="field"><div id="tsd-toolbar-links"></div></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="../index.html" class="title">@hotmeshio/hotmesh</a></div><div class="table-cell" id="tsd-widgets"><a href="#" class="tsd-widget tsd-toolbar-icon menu no-caption" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-menu"></use></svg></a></div></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><ul class="tsd-breadcrumb"><li><a href="../modules.html">@hotmeshio/hotmesh</a></li><li><a href="../modules/services_durable_workflow.html">services/durable/workflow</a></li><li><a href="services_durable_workflow.WorkflowService.html">WorkflowService</a></li></ul><h1>Class WorkflowService</h1></div><section class="tsd-panel tsd-comment"><div class="tsd-comment tsd-typography"><p>The workflow-internal API surface, exposed as <code>Durable.workflow</code>. Every
method on this class is designed to be called <strong>inside</strong> a workflow
function — they participate in deterministic replay and durable state
management.</p>
<a id="md:core-primitives" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Core Primitives<a href="#md:core-primitives" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><table>
<thead>
<tr>
<th>Method</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="services_durable_workflow.WorkflowService.html#proxyActivities.__type-24" class="tsd-kind-type-literal">proxyActivities</a></td>
<td>Create durable activity proxies with retry</td>
</tr>
<tr>
<td><a href="services_durable_workflow.WorkflowService.html#sleepFor.__type-32" class="tsd-kind-type-literal">sleepFor</a></td>
<td>Durable, crash-safe sleep</td>
</tr>
<tr>
<td><a href="services_durable_workflow.WorkflowService.html#waitFor.__type-38" class="tsd-kind-type-literal">waitFor</a></td>
<td>Pause until a signal is received</td>
</tr>
<tr>
<td><a href="services_durable_workflow.WorkflowService.html#signal.__type-30" class="tsd-kind-type-literal">signal</a></td>
<td>Send data to a waiting workflow</td>
</tr>
<tr>
<td><a href="../functions/services_durable_workflow_execChild.execChild.html" class="tsd-kind-function">execChild</a></td>
<td>Spawn and await a child workflow</td>
</tr>
<tr>
<td><a href="../functions/services_durable_workflow_execChild.startChild.html" class="tsd-kind-function">startChild</a></td>
<td>Spawn a child workflow (fire-and-forget)</td>
</tr>
<tr>
<td><a href="../functions/services_durable_workflow_execHook.execHook.html" class="tsd-kind-function">execHook</a></td>
<td>Spawn a hook and await its signal response</td>
</tr>
<tr>
<td><a href="../functions/services_durable_workflow_execHookBatch.execHookBatch.html" class="tsd-kind-function">execHookBatch</a></td>
<td>Spawn multiple hooks in parallel</td>
</tr>
<tr>
<td><a href="../functions/services_durable_workflow_hook.hook.html" class="tsd-kind-function">hook</a></td>
<td>Low-level hook spawning</td>
</tr>
<tr>
<td><a href="services_durable_workflow.WorkflowService.html#interrupt.__type-22" class="tsd-kind-type-literal">interrupt</a></td>
<td>Terminate a running workflow</td>
</tr>
</tbody>
</table>
<a id="md:data--observability" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Data &amp; Observability<a href="#md:data--observability" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><table>
<thead>
<tr>
<th>Method</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="services_durable_workflow.WorkflowService.html#search.__type-28" class="tsd-kind-type-literal">search</a></td>
<td>Read/write flat HASH key-value data</td>
</tr>
<tr>
<td><a href="../functions/services_durable_workflow_enrich.enrich.html" class="tsd-kind-function">enrich</a></td>
<td>One-shot HASH enrichment</td>
</tr>
<tr>
<td><a href="../functions/services_durable_workflow_entityMethods.entity.html" class="tsd-kind-function">entity</a></td>
<td>Structured JSONB document storage</td>
</tr>
<tr>
<td><a href="../functions/services_durable_workflow_emit.emit.html" class="tsd-kind-function">emit</a></td>
<td>Publish events to the event bus</td>
</tr>
<tr>
<td><a href="services_durable_workflow.WorkflowService.html#trace.__type-36" class="tsd-kind-type-literal">trace</a></td>
<td>Emit OpenTelemetry trace spans</td>
</tr>
</tbody>
</table>
<a id="md:utilities" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Utilities<a href="#md:utilities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><table>
<thead>
<tr>
<th>Method</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="../functions/services_durable_workflow_context.getContext.html" class="tsd-kind-function">getContext</a></td>
<td>Access workflow ID, namespace, replay state</td>
</tr>
<tr>
<td><a href="services_durable_workflow.WorkflowService.html#random.__type-26" class="tsd-kind-type-literal">random</a></td>
<td>Deterministic pseudo-random numbers</td>
</tr>
<tr>
<td><a href="../functions/services_durable_workflow_all.all.html" class="tsd-kind-function">all</a></td>
<td>Workflow-safe <code>Promise.all</code></td>
</tr>
<tr>
<td><a href="services_durable.Durable.html#didInterrupt.__type" class="tsd-kind-type-literal">didInterrupt</a></td>
<td>Type guard for engine control-flow errors</td>
</tr>
</tbody>
</table>
<a id="md:example" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Example<a href="#md:example" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> </span><span class="hl-3">*</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1"> </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./activities&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">orderWorkflow</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-4">// Proxy activities for durable execution</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">validateOrder</span><span class="hl-1">, </span><span class="hl-8">processPayment</span><span class="hl-1">, </span><span class="hl-8">sendReceipt</span><span class="hl-1"> } =</span><br/><span class="hl-1">    </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">      </span><span class="hl-6">activities</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">retryPolicy:</span><span class="hl-1"> { </span><span class="hl-6">maximumAttempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">validateOrder</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Durable sleep (survives restarts)</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">sleepFor</span><span class="hl-1">(</span><span class="hl-2">&#39;5 seconds&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">receipt</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">processPayment</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Store searchable metadata</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">enrich</span><span class="hl-1">({ </span><span class="hl-6">orderId</span><span class="hl-1">, </span><span class="hl-6">status:</span><span class="hl-1"> </span><span class="hl-2">&#39;paid&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Wait for external approval signal</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">approval</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">waitFor</span><span class="hl-1">&lt;{ </span><span class="hl-6">ok</span><span class="hl-1">: </span><span class="hl-7">boolean</span><span class="hl-1"> }&gt;(</span><span class="hl-2">&#39;approve&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-6">approval</span><span class="hl-1">.</span><span class="hl-6">ok</span><span class="hl-1">) </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-2">&#39;cancelled&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">sendReceipt</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">, </span><span class="hl-6">receipt</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">receipt</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-comment tsd-typography"></div></section><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L99">services/durable/workflow/index.ts:99</a></li></ul></aside><section class="tsd-panel-group tsd-index-group"><section class="tsd-panel tsd-index-panel"><details class="tsd-index-content tsd-accordion" open><summary class="tsd-accordion-summary tsd-index-summary"><h5 class="tsd-index-heading uppercase" role="button" aria-expanded="false" tabIndex="0"><svg width="16" height="16" viewBox="0 0 16 16" fill="none"><use href="../assets/icons.svg#icon-chevronSmall"></use></svg> Index</h5></summary><div class="tsd-accordion-details"><section class="tsd-index-section"><h3 class="tsd-index-heading">Properties</h3><div class="tsd-index-list"><a href="services_durable_workflow.WorkflowService.html#all" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>all</span></a>
<a href="services_durable_workflow.WorkflowService.html#didInterrupt" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>did<wbr/>Interrupt</span></a>
<a href="services_durable_workflow.WorkflowService.html#didRun" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>did<wbr/>Run</span></a>
<a href="services_durable_workflow.WorkflowService.html#emit" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>emit</span></a>
<a href="services_durable_workflow.WorkflowService.html#enrich" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>enrich</span></a>
<a href="services_durable_workflow.WorkflowService.html#entity" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>entity</span></a>
<a href="services_durable_workflow.WorkflowService.html#execChild" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>exec<wbr/>Child</span></a>
<a href="services_durable_workflow.WorkflowService.html#execHook" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>exec<wbr/>Hook</span></a>
<a href="services_durable_workflow.WorkflowService.html#execHookBatch" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>exec<wbr/>Hook<wbr/>Batch</span></a>
<a href="services_durable_workflow.WorkflowService.html#executeChild" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>execute<wbr/>Child</span></a>
<a href="services_durable_workflow.WorkflowService.html#getContext" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>get<wbr/>Context</span></a>
<a href="services_durable_workflow.WorkflowService.html#hook" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>hook</span></a>
<a href="services_durable_workflow.WorkflowService.html#interrupt" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>interrupt</span></a>
<a href="services_durable_workflow.WorkflowService.html#isSideEffectAllowed" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>is<wbr/>Side<wbr/>Effect<wbr/>Allowed</span></a>
<a href="services_durable_workflow.WorkflowService.html#proxyActivities" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>proxy<wbr/>Activities</span></a>
<a href="services_durable_workflow.WorkflowService.html#random" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>random</span></a>
<a href="services_durable_workflow.WorkflowService.html#search" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>search</span></a>
<a href="services_durable_workflow.WorkflowService.html#signal" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>signal</span></a>
<a href="services_durable_workflow.WorkflowService.html#sleepFor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>sleep<wbr/>For</span></a>
<a href="services_durable_workflow.WorkflowService.html#startChild" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>start<wbr/>Child</span></a>
<a href="services_durable_workflow.WorkflowService.html#trace" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>trace</span></a>
<a href="services_durable_workflow.WorkflowService.html#waitFor" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>wait<wbr/>For</span></a>
</div></section><section class="tsd-index-section"><h3 class="tsd-index-heading">Methods</h3><div class="tsd-index-list"><a href="services_durable_workflow.WorkflowService.html#getHotMesh" class="tsd-index-link"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Hot<wbr/>Mesh</span></a>
</div></section></div></details></section></section><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Properties"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Properties</h2></summary><section><section class="tsd-panel tsd-member"><a id="all" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>all</span><a href="#all" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">all</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#all.__type.__type-1.T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">promises</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_all.all.html#all.T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_all.all.html#all.T">T</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = all</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="all.__type.__type-1"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#all.__type.__type-1.T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">promises</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_all.all.html#all.T">T</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>A workflow-safe version of <code>Promise.all</code> that applies a micro-delay
before parallel execution to ensure correct sequencing of the
deterministic execution counter. Use this when you need to run
multiple durable operations concurrently within a workflow function.</p>
<p>In most cases, standard <code>Promise.all</code> works correctly for Durable
operations (e.g., parallel <code>waitFor</code> calls). Use <code>Durable.workflow.all</code>
when you observe counter-sequencing issues with complex parallel
patterns.</p>
<a id="md:example-1" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Example<a href="#md:example-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">parallelWorkflow</span><span class="hl-1">(): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;[</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">number</span><span class="hl-1">]&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">fetchName</span><span class="hl-1">, </span><span class="hl-8">fetchScore</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> [</span><span class="hl-8">name</span><span class="hl-1">, </span><span class="hl-8">score</span><span class="hl-1">] = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">all</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-0">fetchName</span><span class="hl-1">(</span><span class="hl-2">&#39;user-1&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-0">fetchScore</span><span class="hl-1">(</span><span class="hl-2">&#39;user-1&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  );</span><br/><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> [</span><span class="hl-6">name</span><span class="hl-1">, </span><span class="hl-6">score</span><span class="hl-1">];</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="all.__type.__type-1.T" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">T</span></span></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Rest</code><span class="tsd-signature-symbol">...</span><span class="tsd-kind-parameter">promises</span>: <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_all.all.html#all.T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>An array of promises to execute concurrently.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_all.all.html#all.T">T</a><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">&gt;</span></h4><p>A promise resolving to an array of results.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L126">services/durable/workflow/index.ts:126</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="didInterrupt" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>did<wbr/>Interrupt</span><a href="#didInterrupt" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">did<wbr/>Interrupt</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">error</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = didInterrupt</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="didInterrupt.__type-2.__type-3"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">error</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Type guard that returns <code>true</code> if an error is a Durable engine
control-flow signal rather than a genuine application error.</p>
<p>Durable uses thrown errors internally to suspend workflow execution
for durable operations like <code>sleepFor</code>, <code>waitFor</code>, <code>proxyActivities</code>,
and <code>execChild</code>. These errors must be re-thrown (not swallowed) so
the engine can persist state and schedule the next step.</p>
<p><strong>Always use <code>didInterrupt</code> in <code>catch</code> blocks inside workflow
functions</strong> to avoid accidentally swallowing engine signals.</p>
<a id="md:recognized-error-types" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Recognized Error Types<a href="#md:recognized-error-types" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p><code>DurableChildError</code>, <code>DurableFatalError</code>, <code>DurableMaxedError</code>,
<code>DurableProxyError</code>, <code>DurableRetryError</code>, <code>DurableSleepError</code>,
<code>DurableTimeoutError</code>, <code>DurableWaitForError</code>, <code>DurableWaitForAllError</code></p>
<a id="md:examples" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">safeWorkflow</span><span class="hl-1">(): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">riskyOperation</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><br/><span class="hl-1">  </span><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">riskyOperation</span><span class="hl-1">();</span><br/><span class="hl-1">  } </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-6">error</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-4">// CRITICAL: re-throw engine signals</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">didInterrupt</span><span class="hl-1">(</span><span class="hl-6">error</span><span class="hl-1">)) {</span><br/><span class="hl-1">      </span><span class="hl-5">throw</span><span class="hl-1"> </span><span class="hl-6">error</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">    </span><span class="hl-4">// Handle real application errors</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-2">&#39;fallback-value&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Common pattern in interceptors</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">interceptor</span><span class="hl-1">: </span><span class="hl-7">WorkflowInterceptor</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-6">ctx</span><span class="hl-1">, </span><span class="hl-6">next</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">try</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">next</span><span class="hl-1">();</span><br/><span class="hl-1">    } </span><span class="hl-5">catch</span><span class="hl-1"> (</span><span class="hl-6">error</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">didInterrupt</span><span class="hl-1">(</span><span class="hl-6">error</span><span class="hl-1">)) {</span><br/><span class="hl-1">        </span><span class="hl-5">throw</span><span class="hl-1"> </span><span class="hl-6">error</span><span class="hl-1">;  </span><span class="hl-4">// always re-throw engine signals</span><br/><span class="hl-1">      }</span><br/><span class="hl-1">      </span><span class="hl-4">// Log and re-throw application errors</span><br/><span class="hl-1">      </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">error</span><span class="hl-1">(</span><span class="hl-2">&#39;Workflow failed:&#39;</span><span class="hl-1">, </span><span class="hl-6">error</span><span class="hl-1">);</span><br/><span class="hl-1">      </span><span class="hl-5">throw</span><span class="hl-1"> </span><span class="hl-6">error</span><span class="hl-1">;</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">error</span>: <span class="tsd-signature-type">Error</span></span><div class="tsd-comment tsd-typography"><p>The error to check.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">boolean</span></h4><p><code>true</code> if the error is a Durable engine interruption signal.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L124">services/durable/workflow/index.ts:124</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="didRun" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>did<wbr/>Run</span><a href="#didRun" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">did<wbr/>Run</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Object</span><span class="tsd-signature-symbol"> = didRun</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L108">services/durable/workflow/index.ts:108</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="emit" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>emit</span><a href="#emit" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">emit</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">events</span><span class="tsd-signature-symbol">: </span><a href="../types/types_serializer.StringAnyType.html" class="tsd-signature-type tsd-kind-type-alias">StringAnyType</a>, <span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">??: </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">once</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = emit</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="emit.__type-4.__type-5"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">events</span>, <span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Emits pub/sub events to the event bus, allowing workflows to broadcast
messages to external subscribers. Each entry in the <code>events</code> map is
published as a separate message on the corresponding topic.</p>
<p>By default (<code>config.once = true</code>), events are emitted exactly once per
workflow execution — the <code>isSideEffectAllowed</code> guard prevents re-emission
on replay. Set <code>config.once = false</code> to emit on every re-execution
(rarely needed).</p>
<a id="md:examples-1" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Emit a domain event when an order is processed</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">orderWorkflow</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">processOrder</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">processOrder</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">emit</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;order.completed&#39;</span><span class="hl-6">:</span><span class="hl-1"> { </span><span class="hl-6">orderId</span><span class="hl-1">, </span><span class="hl-6">total:</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1">.</span><span class="hl-6">total</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;analytics.event&#39;</span><span class="hl-6">:</span><span class="hl-1"> { </span><span class="hl-6">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;order&#39;</span><span class="hl-1">, </span><span class="hl-6">orderId</span><span class="hl-1"> },</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Emit progress events during a long-running workflow</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">batchWorkflow</span><span class="hl-1">(</span><span class="hl-6">items</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">[]): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">processItem</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><br/><span class="hl-1">  </span><span class="hl-5">for</span><span class="hl-1"> (</span><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-6">i</span><span class="hl-1"> = </span><span class="hl-9">0</span><span class="hl-1">; </span><span class="hl-6">i</span><span class="hl-1"> &lt; </span><span class="hl-6">items</span><span class="hl-1">.</span><span class="hl-6">length</span><span class="hl-1">; </span><span class="hl-6">i</span><span class="hl-1">++) {</span><br/><span class="hl-1">    </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">processItem</span><span class="hl-1">(</span><span class="hl-6">items</span><span class="hl-1">[</span><span class="hl-6">i</span><span class="hl-1">]);</span><br/><span class="hl-1">    </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">emit</span><span class="hl-1">(</span><br/><span class="hl-1">      { </span><span class="hl-2">&#39;batch.progress&#39;</span><span class="hl-6">:</span><span class="hl-1"> { </span><span class="hl-6">completed:</span><span class="hl-1"> </span><span class="hl-6">i</span><span class="hl-1"> + </span><span class="hl-9">1</span><span class="hl-1">, </span><span class="hl-6">total:</span><span class="hl-1"> </span><span class="hl-6">items</span><span class="hl-1">.</span><span class="hl-6">length</span><span class="hl-1"> } },</span><br/><span class="hl-1">      { </span><span class="hl-6">once:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1"> },  </span><span class="hl-4">// emit on every execution (progress updates)</span><br/><span class="hl-1">    );</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">events</span>: <a href="../types/types_serializer.StringAnyType.html" class="tsd-signature-type tsd-kind-type-alias">StringAnyType</a></span><div class="tsd-comment tsd-typography"><p>A mapping of <code>topic</code> to message payload.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">once</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = ...</span></span><div class="tsd-comment tsd-typography"><p>If <code>true</code>, events emit only once (idempotent).</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">once</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><p><code>true</code> after emission completes.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L112">services/durable/workflow/index.ts:112</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="enrich" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>enrich</span><a href="#enrich" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">enrich</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">fields</span><span class="tsd-signature-symbol">: </span><a href="../types/types_serializer.StringStringType.html" class="tsd-signature-type tsd-kind-type-alias">StringStringType</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = enrich</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="enrich.__type-6.__type-7"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">fields</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Adds custom key-value metadata to the workflow's backend HASH record
in a single call. This is a convenience wrapper around
<code>search().set(fields)</code> that handles session creation automatically.</p>
<p>Enrichment runs exactly once per workflow execution — the underlying
search session ensures idempotency on replay.</p>
<p>Use <code>enrich</code> for quick one-shot writes. For repeated reads/writes
within the same workflow, prefer acquiring a <code>search()</code> session
handle directly.</p>
<a id="md:example-2" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Example<a href="#md:example-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">onboardingWorkflow</span><span class="hl-1">(</span><span class="hl-6">userId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-4">// Tag the workflow record with queryable metadata</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">enrich</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">userId</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">stage:</span><span class="hl-1"> </span><span class="hl-2">&#39;verification&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">startedAt:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">().</span><span class="hl-0">toISOString</span><span class="hl-1">(),</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">verifyIdentity</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">verifyIdentity</span><span class="hl-1">(</span><span class="hl-6">userId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">enrich</span><span class="hl-1">({ </span><span class="hl-6">stage:</span><span class="hl-1"> </span><span class="hl-2">&#39;complete&#39;</span><span class="hl-1"> });</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">fields</span>: <a href="../types/types_serializer.StringStringType.html" class="tsd-signature-type tsd-kind-type-alias">StringStringType</a></span><div class="tsd-comment tsd-typography"><p>Key-value fields to write to the workflow record.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><p><code>true</code> when enrichment is completed.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L111">services/durable/workflow/index.ts:111</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="entity" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>entity</span><a href="#entity" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">entity</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="services_durable_entity.Entity.html" class="tsd-signature-type tsd-kind-class">Entity</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = entity</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="entity.__type-8.__type-9"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="services_durable_entity.Entity.html" class="tsd-signature-type tsd-kind-class">Entity</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns an <code>Entity</code> session handle for interacting with the workflow's
structured JSON document storage. Unlike <code>search()</code> (flat HASH
key-value pairs), <code>entity()</code> provides a JSONB document store with
deep merge, append, and path-based get operations.</p>
<p>Each call produces a unique session ID tied to the deterministic
execution counter, ensuring correct replay behavior.</p>
<a id="md:examples-2" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-2" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">userProfileWorkflow</span><span class="hl-1">(</span><span class="hl-6">userId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">UserProfile</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">entity</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">entity</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Initialize a structured document</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">entity</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">user:</span><span class="hl-1"> { </span><span class="hl-6">id:</span><span class="hl-1"> </span><span class="hl-6">userId</span><span class="hl-1">, </span><span class="hl-6">status:</span><span class="hl-1"> </span><span class="hl-2">&#39;active&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">    </span><span class="hl-6">preferences:</span><span class="hl-1"> { </span><span class="hl-6">theme:</span><span class="hl-1"> </span><span class="hl-2">&#39;dark&#39;</span><span class="hl-1">, </span><span class="hl-6">locale:</span><span class="hl-1"> </span><span class="hl-2">&#39;en-US&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Deep merge: adds name without overwriting existing fields</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">entity</span><span class="hl-1">.</span><span class="hl-0">merge</span><span class="hl-1">({ </span><span class="hl-6">user:</span><span class="hl-1"> { </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Alice&#39;</span><span class="hl-1">, </span><span class="hl-6">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;alice@example.com&#39;</span><span class="hl-1"> } });</span><br/><span class="hl-1">  </span><span class="hl-4">// user is now: { id: userId, status: &#39;active&#39;, name: &#39;Alice&#39;, email: &#39;...&#39; }</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Append to an array</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">entity</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">({ </span><span class="hl-6">user:</span><span class="hl-1"> { </span><span class="hl-6">tags:</span><span class="hl-1"> [</span><span class="hl-2">&#39;premium&#39;</span><span class="hl-1">] } });</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">entity</span><span class="hl-1">.</span><span class="hl-0">append</span><span class="hl-1">({ </span><span class="hl-6">user:</span><span class="hl-1"> { </span><span class="hl-6">tags:</span><span class="hl-1"> [</span><span class="hl-2">&#39;verified&#39;</span><span class="hl-1">] } });</span><br/><span class="hl-1">  </span><span class="hl-4">// user.tags is now: [&#39;premium&#39;, &#39;verified&#39;]</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Read a nested path</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">user</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">entity</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">user</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">UserProfile</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Accumulate state across activities</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">pipelineWorkflow</span><span class="hl-1">(</span><span class="hl-6">input</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">PipelineResult</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">entity</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">entity</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">step1</span><span class="hl-1">, </span><span class="hl-8">step2</span><span class="hl-1">, </span><span class="hl-8">step3</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">r1</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">step1</span><span class="hl-1">(</span><span class="hl-6">input</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">entity</span><span class="hl-1">.</span><span class="hl-0">merge</span><span class="hl-1">({ </span><span class="hl-6">pipeline:</span><span class="hl-1"> { </span><span class="hl-6">step1:</span><span class="hl-1"> </span><span class="hl-6">r1</span><span class="hl-1"> } });</span><br/><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">r2</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">step2</span><span class="hl-1">(</span><span class="hl-6">r1</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">entity</span><span class="hl-1">.</span><span class="hl-0">merge</span><span class="hl-1">({ </span><span class="hl-6">pipeline:</span><span class="hl-1"> { </span><span class="hl-6">step2:</span><span class="hl-1"> </span><span class="hl-6">r2</span><span class="hl-1"> } });</span><br/><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">r3</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">step3</span><span class="hl-1">(</span><span class="hl-6">r2</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">entity</span><span class="hl-1">.</span><span class="hl-0">merge</span><span class="hl-1">({ </span><span class="hl-6">pipeline:</span><span class="hl-1"> { </span><span class="hl-6">step3:</span><span class="hl-1"> </span><span class="hl-6">r3</span><span class="hl-1"> } });</span><br/><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">entity</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;pipeline&#39;</span><span class="hl-1">) </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-7">PipelineResult</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="services_durable_entity.Entity.html" class="tsd-signature-type tsd-kind-class">Entity</a><span class="tsd-signature-symbol">&gt;</span></h4><p>An entity session scoped to the current workflow job.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L120">services/durable/workflow/index.ts:120</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="execChild" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>exec<wbr/>Child</span><a href="#execChild" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">exec<wbr/>Child</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#execChild.__type-10.__type-11.T-1">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">: </span><a href="../types/types_durable.WorkflowOptions.html" class="tsd-signature-type tsd-kind-type-alias">WorkflowOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_execChild.execChild.html#execChild.T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = execChild</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="execChild.__type-10.__type-11"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#execChild.__type-10.__type-11.T-1">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_execChild.execChild.html#execChild.T">T</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Spawns a child workflow and awaits its result. The child runs as an
independent job with its own lifecycle, retry policy, and dimensional
isolation. If the child fails, the error is propagated to the parent
as a typed error (<code>DurableFatalError</code>, <code>DurableMaxedError</code>,
<code>DurableTimeoutError</code>, or <code>DurableRetryError</code>).</p>
<p>On replay, the stored child result is returned immediately without
re-spawning the child workflow.</p>
<a id="md:child-job-id" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Child Job ID<a href="#md:child-job-id" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>If <code>options.workflowId</code> is provided, it is used directly. Otherwise,
the child ID is generated from the entity/workflow name, a GUID, the
parent's dimensional coordinates, and the execution index — ensuring
uniqueness across parallel and re-entrant executions.</p>
<a id="md:examples-3" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Spawn a child workflow and await its result</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">parentWorkflow</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">execChild</span><span class="hl-1">&lt;{ </span><span class="hl-6">status</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> }&gt;({</span><br/><span class="hl-1">    </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;payments&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;processPayment&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">orderId</span><span class="hl-1">, </span><span class="hl-9">99.99</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-6">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">maximumAttempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">backoffCoefficient:</span><span class="hl-1"> </span><span class="hl-9">2</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1">.</span><span class="hl-6">status</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Fan-out: spawn multiple children in parallel</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">batchWorkflow</span><span class="hl-1">(</span><span class="hl-6">items</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">[]): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">[]&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">results</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-7">Promise</span><span class="hl-1">.</span><span class="hl-0">all</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-6">items</span><span class="hl-1">.</span><span class="hl-0">map</span><span class="hl-1">((</span><span class="hl-6">item</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><br/><span class="hl-1">      </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">execChild</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">        </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;processors&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;processItem&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">item</span><span class="hl-1">],</span><br/><span class="hl-1">      }),</span><br/><span class="hl-1">    ),</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">results</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Entity-based child (uses entity name as task queue)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">user</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">execChild</span><span class="hl-1">&lt;</span><span class="hl-7">UserRecord</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-6">entity:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">args:</span><span class="hl-1"> [{ </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Alice&#39;</span><span class="hl-1">, </span><span class="hl-6">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;alice@example.com&#39;</span><span class="hl-1"> }],</span><br/><span class="hl-1">  </span><span class="hl-6">workflowId:</span><span class="hl-1"> </span><span class="hl-2">&#39;user-alice&#39;</span><span class="hl-1">,          </span><span class="hl-4">// deterministic ID</span><br/><span class="hl-1">  </span><span class="hl-6">expire:</span><span class="hl-1"> </span><span class="hl-9">3600</span><span class="hl-1">,                       </span><span class="hl-4">// 1 hour TTL</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="execChild.__type-10.__type-11.T-1" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">T</span></span><div class="tsd-comment tsd-typography"><p>The return type of the child workflow.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <a href="../types/types_durable.WorkflowOptions.html" class="tsd-signature-type tsd-kind-type-alias">WorkflowOptions</a></span><div class="tsd-comment tsd-typography"><p>Child workflow configuration.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_execChild.execChild.html#execChild.T">T</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The child workflow's return value.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L113">services/durable/workflow/index.ts:113</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="execHook" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>exec<wbr/>Hook</span><a href="#execHook" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">exec<wbr/>Hook</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#execHook.__type-12.__type-13.T-2">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/services_durable_workflow_execHook.ExecHookOptions.html" class="tsd-signature-type tsd-kind-interface">ExecHookOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_execHook.execHook.html#execHook.T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = execHook</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="execHook.__type-12.__type-13"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#execHook.__type-12.__type-13.T-2">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_execHook.execHook.html#execHook.T">T</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Combines <code>hook()</code> + <code>waitFor()</code> into a single call: spawns a hook
function on a target workflow and suspends the current workflow until
the hook signals completion. This is the recommended pattern for
request/response communication between workflow threads.</p>
<a id="md:signal-injection" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Signal Injection<a href="#md:signal-injection" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>A <code>signalId</code> is automatically generated (or use the one you provide)
and injected as the <strong>last argument</strong> to the hooked function as
<code>{ signal: string, $durable: true }</code>. The hook function must call
<code>Durable.workflow.signal(signalInfo.signal, result)</code> to deliver
its response back to the waiting workflow.</p>
<a id="md:difference-from-execchild" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Difference from <code>execChild</code><a href="#md:difference-from-execchild" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><code>execChild</code> spawns a <strong>new</strong> workflow job with its own lifecycle.</li>
<li><code>execHook</code> runs within an <strong>existing</strong> workflow's job, in an
isolated dimensional thread. This is lighter-weight and shares
the parent job's data namespace.</li>
</ul>
<a id="md:examples-4" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-4" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Orchestrator: spawn a hook and await its result</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">reviewWorkflow</span><span class="hl-1">(</span><span class="hl-6">docId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">verdict</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">execHook</span><span class="hl-1">&lt;{ </span><span class="hl-6">approved</span><span class="hl-1">: </span><span class="hl-7">boolean</span><span class="hl-1"> }&gt;({</span><br/><span class="hl-1">    </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;reviewers&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;reviewDocument&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">docId</span><span class="hl-1">],</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">verdict</span><span class="hl-1">.</span><span class="hl-6">approved</span><span class="hl-1"> ? </span><span class="hl-2">&#39;accepted&#39;</span><span class="hl-1"> : </span><span class="hl-2">&#39;rejected&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// The hooked function (runs on the &#39;reviewers&#39; worker)</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">reviewDocument</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-6">docId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">signalInfo</span><span class="hl-1">?: { </span><span class="hl-6">signal</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">; </span><span class="hl-6">$durable</span><span class="hl-1">: </span><span class="hl-7">boolean</span><span class="hl-1"> },</span><br/><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;{ </span><span class="hl-6">approved</span><span class="hl-1">: </span><span class="hl-7">boolean</span><span class="hl-1"> }&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">analyzeDocument</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">score</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">analyzeDocument</span><span class="hl-1">(</span><span class="hl-6">docId</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">result</span><span class="hl-1"> = { </span><span class="hl-6">approved:</span><span class="hl-1"> </span><span class="hl-6">score</span><span class="hl-1"> &gt; </span><span class="hl-9">0.8</span><span class="hl-1"> };</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Signal the waiting workflow with the result</span><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">signalInfo</span><span class="hl-1">?.</span><span class="hl-6">signal</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">signal</span><span class="hl-1">(</span><span class="hl-6">signalInfo</span><span class="hl-1">.</span><span class="hl-6">signal</span><span class="hl-1">, </span><span class="hl-6">result</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// With explicit signalId for traceability</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">execHook</span><span class="hl-1">&lt;</span><span class="hl-7">AnalysisResult</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;analyzers&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;runAnalysis&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">datasetId</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-6">signalId:</span><span class="hl-1"> </span><span class="hl-2">`analysis-</span><span class="hl-3">${</span><span class="hl-6">datasetId</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">,</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="execHook.__type-12.__type-13.T-2" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">T</span></span><div class="tsd-comment tsd-typography"><p>The type of data returned by the hook function's signal.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <a href="../interfaces/services_durable_workflow_execHook.ExecHookOptions.html" class="tsd-signature-type tsd-kind-interface">ExecHookOptions</a></span><div class="tsd-comment tsd-typography"><p>Hook configuration including target workflow and arguments.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_execHook.execHook.html#execHook.T">T</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The signal result from the hooked function.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L116">services/durable/workflow/index.ts:116</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="execHookBatch" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>exec<wbr/>Hook<wbr/>Batch</span><a href="#execHookBatch" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">exec<wbr/>Hook<wbr/>Batch</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#execHookBatch.__type-14.__type-15.T-3">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">hookConfigs</span><span class="tsd-signature-symbol">: </span><a href="../interfaces/services_durable_workflow_execHookBatch.BatchHookConfig.html" class="tsd-signature-type tsd-kind-interface">BatchHookConfig</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_execHookBatch.execHookBatch.html#execHookBatch.T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = execHookBatch</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="execHookBatch.__type-14.__type-15"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#execHookBatch.__type-14.__type-15.T-3">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">hookConfigs</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_execHookBatch.execHookBatch.html#execHookBatch.T">T</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Executes multiple hooks in parallel and awaits all their signal responses,
returning a keyed object of results. This is the recommended way to run
concurrent hooks — it solves a race condition where calling
<code>Promise.all([execHook(), execHook()])</code> would throw before all <code>waitFor</code>
registrations complete.</p>
<a id="md:three-phase-execution" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Three-Phase Execution<a href="#md:three-phase-execution" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ol>
<li><strong>Fire all hooks</strong> via <code>Promise.all</code> (registers streams immediately).</li>
<li><strong>Await all signals</strong> via <code>Promise.all</code> (all <code>waitFor</code> registrations
happen together before any <code>DurableWaitForError</code> is thrown).</li>
<li><strong>Combine results</strong> into a <code>{ [key]: result }</code> map.</li>
</ol>
<a id="md:examples-5" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-5" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Fan-out to multiple AI agents, gather all perspectives</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">researchWorkflow</span><span class="hl-1">(</span><span class="hl-6">query</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">Summary</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">perspectives</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">execHookBatch</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">    </span><span class="hl-6">optimistic</span><span class="hl-1">: </span><span class="hl-7">PerspectiveResult</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">skeptical</span><span class="hl-1">: </span><span class="hl-7">PerspectiveResult</span><span class="hl-1">;</span><br/><span class="hl-1">    </span><span class="hl-6">neutral</span><span class="hl-1">: </span><span class="hl-7">PerspectiveResult</span><span class="hl-1">;</span><br/><span class="hl-1">  }&gt;([</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-6">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;optimistic&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;agents&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;analyzeOptimistic&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">query</span><span class="hl-1">],</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-6">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;skeptical&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;agents&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;analyzeSkeptical&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">query</span><span class="hl-1">],</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    {</span><br/><span class="hl-1">      </span><span class="hl-6">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;neutral&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;agents&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;analyzeNeutral&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">query</span><span class="hl-1">],</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  ]);</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// All three results are available as typed properties</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">synthesize</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">synthesize</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-6">perspectives</span><span class="hl-1">.</span><span class="hl-6">optimistic</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">perspectives</span><span class="hl-1">.</span><span class="hl-6">skeptical</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">perspectives</span><span class="hl-1">.</span><span class="hl-6">neutral</span><span class="hl-1">,</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Parallel validation with different services</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">checks</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">execHookBatch</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">  </span><span class="hl-6">fraud</span><span class="hl-1">: { </span><span class="hl-6">safe</span><span class="hl-1">: </span><span class="hl-7">boolean</span><span class="hl-1"> };</span><br/><span class="hl-1">  </span><span class="hl-6">compliance</span><span class="hl-1">: { </span><span class="hl-6">approved</span><span class="hl-1">: </span><span class="hl-7">boolean</span><span class="hl-1"> };</span><br/><span class="hl-1">}&gt;([</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-6">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;fraud&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;fraud-detection&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;checkFraud&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">transactionId</span><span class="hl-1">],</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-6">key:</span><span class="hl-1"> </span><span class="hl-2">&#39;compliance&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">options:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;compliance&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;checkCompliance&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">transactionId</span><span class="hl-1">],</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">]);</span><br/><br/><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">checks</span><span class="hl-1">.</span><span class="hl-6">fraud</span><span class="hl-1">.</span><span class="hl-6">safe</span><span class="hl-1"> &amp;&amp; </span><span class="hl-6">checks</span><span class="hl-1">.</span><span class="hl-6">compliance</span><span class="hl-1">.</span><span class="hl-6">approved</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">// proceed with transaction</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="execHookBatch.__type-14.__type-15.T-3" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">T</span><span class="tsd-signature-keyword"> extends </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>Object type with keys matching the batch hook keys.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">hookConfigs</span>: <a href="../interfaces/services_durable_workflow_execHookBatch.BatchHookConfig.html" class="tsd-signature-type tsd-kind-interface">BatchHookConfig</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[]</span></span><div class="tsd-comment tsd-typography"><p>Array of hook configurations with unique keys.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_execHookBatch.execHookBatch.html#execHookBatch.T">T</a><span class="tsd-signature-symbol">&gt;</span></h4><p>Object mapping each config's <code>key</code> to its signal response.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L117">services/durable/workflow/index.ts:117</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="executeChild" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>execute<wbr/>Child</span><a href="#executeChild" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">execute<wbr/>Child</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#executeChild.__type-16.__type-17.T-4">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">: </span><a href="../types/types_durable.WorkflowOptions.html" class="tsd-signature-type tsd-kind-type-alias">WorkflowOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_execChild.execChild.html#execChild.T">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = executeChild</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="executeChild.__type-16.__type-17"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#executeChild.__type-16.__type-17.T-4">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_execChild.execChild.html#execChild.T">T</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Spawns a child workflow and awaits its result. The child runs as an
independent job with its own lifecycle, retry policy, and dimensional
isolation. If the child fails, the error is propagated to the parent
as a typed error (<code>DurableFatalError</code>, <code>DurableMaxedError</code>,
<code>DurableTimeoutError</code>, or <code>DurableRetryError</code>).</p>
<p>On replay, the stored child result is returned immediately without
re-spawning the child workflow.</p>
<a id="md:child-job-id-1" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Child Job ID<a href="#md:child-job-id-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>If <code>options.workflowId</code> is provided, it is used directly. Otherwise,
the child ID is generated from the entity/workflow name, a GUID, the
parent's dimensional coordinates, and the execution index — ensuring
uniqueness across parallel and re-entrant executions.</p>
<a id="md:examples-6" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-6" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Spawn a child workflow and await its result</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">parentWorkflow</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">execChild</span><span class="hl-1">&lt;{ </span><span class="hl-6">status</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1"> }&gt;({</span><br/><span class="hl-1">    </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;payments&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;processPayment&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">orderId</span><span class="hl-1">, </span><span class="hl-9">99.99</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-6">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-6">maximumAttempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">backoffCoefficient:</span><span class="hl-1"> </span><span class="hl-9">2</span><span class="hl-1">,</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1">.</span><span class="hl-6">status</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Fan-out: spawn multiple children in parallel</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">batchWorkflow</span><span class="hl-1">(</span><span class="hl-6">items</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">[]): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">[]&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">results</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-7">Promise</span><span class="hl-1">.</span><span class="hl-0">all</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-6">items</span><span class="hl-1">.</span><span class="hl-0">map</span><span class="hl-1">((</span><span class="hl-6">item</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><br/><span class="hl-1">      </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">execChild</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">        </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;processors&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;processItem&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">item</span><span class="hl-1">],</span><br/><span class="hl-1">      }),</span><br/><span class="hl-1">    ),</span><br/><span class="hl-1">  );</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">results</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Entity-based child (uses entity name as task queue)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">user</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">execChild</span><span class="hl-1">&lt;</span><span class="hl-7">UserRecord</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-6">entity:</span><span class="hl-1"> </span><span class="hl-2">&#39;user&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">args:</span><span class="hl-1"> [{ </span><span class="hl-6">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;Alice&#39;</span><span class="hl-1">, </span><span class="hl-6">email:</span><span class="hl-1"> </span><span class="hl-2">&#39;alice@example.com&#39;</span><span class="hl-1"> }],</span><br/><span class="hl-1">  </span><span class="hl-6">workflowId:</span><span class="hl-1"> </span><span class="hl-2">&#39;user-alice&#39;</span><span class="hl-1">,          </span><span class="hl-4">// deterministic ID</span><br/><span class="hl-1">  </span><span class="hl-6">expire:</span><span class="hl-1"> </span><span class="hl-9">3600</span><span class="hl-1">,                       </span><span class="hl-4">// 1 hour TTL</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="executeChild.__type-16.__type-17.T-4" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">T</span></span><div class="tsd-comment tsd-typography"><p>The return type of the child workflow.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <a href="../types/types_durable.WorkflowOptions.html" class="tsd-signature-type tsd-kind-type-alias">WorkflowOptions</a></span><div class="tsd-comment tsd-typography"><p>Child workflow configuration.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="../functions/services_durable_workflow_execChild.execChild.html#execChild.T">T</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The child workflow's return value.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L114">services/durable/workflow/index.ts:114</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="getContext" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>get<wbr/>Context</span><a href="#getContext" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">get<wbr/>Context</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/types_durable.WorkflowContext.html" class="tsd-signature-type tsd-kind-type-alias">WorkflowContext</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = getContext</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="getContext.__type-18.__type-19"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../types/types_durable.WorkflowContext.html" class="tsd-signature-type tsd-kind-type-alias">WorkflowContext</a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns the current workflow's execution context, providing access to
the workflow ID, replay state, dimensional coordinates, connection
info, and other runtime metadata.</p>
<p>The context is populated by the worker's <code>wrapWorkflowFunction</code> and
stored in <code>AsyncLocalStorage</code>, making it available to any code running
within the workflow function's call stack.</p>
<a id="md:examples-7" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-7" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Access the workflow ID and namespace</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">contextAwareWorkflow</span><span class="hl-1">(): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">ctx</span><span class="hl-1"> = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">getContext</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Running workflow </span><span class="hl-3">${</span><span class="hl-6">ctx</span><span class="hl-12">.</span><span class="hl-6">workflowId</span><span class="hl-3">}</span><span class="hl-2"> in </span><span class="hl-3">${</span><span class="hl-6">ctx</span><span class="hl-12">.</span><span class="hl-6">namespace</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">ctx</span><span class="hl-1">.</span><span class="hl-6">workflowId</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Check if the current execution is a replay</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">replayAwareWorkflow</span><span class="hl-1">(): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">counter</span><span class="hl-1">, </span><span class="hl-8">workflowDimension</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">getContext</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Use context for logging/debugging</span><br/><span class="hl-1">  </span><span class="hl-6">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`Execution counter: </span><span class="hl-3">${</span><span class="hl-6">counter</span><span class="hl-3">}</span><span class="hl-2">, dimension: </span><span class="hl-3">${</span><span class="hl-6">workflowDimension</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Pass context info to child workflows</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">parentWorkflow</span><span class="hl-1">(): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">workflowId</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">getContext</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">execChild</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;children&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;childWorkflow&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">workflowId</span><span class="hl-1">],  </span><span class="hl-4">// pass parent ID to child</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><h4 class="tsd-returns-title">Returns <a href="../types/types_durable.WorkflowContext.html" class="tsd-signature-type tsd-kind-type-alias">WorkflowContext</a></h4><p>The current workflow context.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L107">services/durable/workflow/index.ts:107</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="hook" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>hook</span><a href="#hook" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">hook</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">: </span><a href="../types/types_durable.HookOptions.html" class="tsd-signature-type tsd-kind-type-alias">HookOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = hook</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="hook.__type-20.__type-21"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Spawns a hook execution against an existing workflow job. The hook runs
in an isolated dimensional thread within the target job's namespace,
allowing it to read/write the same job state without interfering with
the main workflow thread.</p>
<p>This is the low-level primitive behind <code>execHook()</code>. Use <code>hook()</code>
directly when you need fire-and-forget hook execution or when you
manage signal coordination yourself.</p>
<a id="md:target-resolution" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Target Resolution<a href="#md:target-resolution" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li>If <code>taskQueue</code> and <code>workflowName</code> (or <code>entity</code>) are provided, the
hook targets that specific workflow type.</li>
<li>If neither is provided, the hook targets the <strong>current</strong> workflow.
However, targeting the same topic as the current workflow is
rejected to prevent infinite loops.</li>
</ul>
<a id="md:idempotency" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Idempotency<a href="#md:idempotency" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>The <code>isSideEffectAllowed</code> guard ensures hooks fire exactly once —
on replay, the hook is not re-spawned.</p>
<a id="md:examples-8" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-8" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Fire-and-forget: spawn a hook without waiting for its result</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">notifyWorkflow</span><span class="hl-1">(</span><span class="hl-6">userId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">hook</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;notifications&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;sendNotification&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">userId</span><span class="hl-1">, </span><span class="hl-2">&#39;Your order has shipped&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">  </span><span class="hl-4">// Continues immediately, does not wait for the hook</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Manual signal coordination (equivalent to execHook)</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">manualHookPattern</span><span class="hl-1">(</span><span class="hl-6">itemId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">signalId</span><span class="hl-1"> = </span><span class="hl-2">`process-</span><span class="hl-3">${</span><span class="hl-6">itemId</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">hook</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;processors&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;processItem&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">itemId</span><span class="hl-1">, </span><span class="hl-6">signalId</span><span class="hl-1">],</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Manually wait for the hook to signal back</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">waitFor</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;(</span><span class="hl-6">signalId</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Hook with retry configuration</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">hook</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;enrichment&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;enrichProfile&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">profileId</span><span class="hl-1">],</span><br/><span class="hl-1">  </span><span class="hl-6">config:</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-6">maximumAttempts:</span><span class="hl-1"> </span><span class="hl-9">5</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">backoffCoefficient:</span><span class="hl-1"> </span><span class="hl-9">2</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">maximumInterval:</span><span class="hl-1"> </span><span class="hl-2">&#39;1m&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">});</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <a href="../types/types_durable.HookOptions.html" class="tsd-signature-type tsd-kind-type-alias">HookOptions</a></span><div class="tsd-comment tsd-typography"><p>Hook configuration including target workflow and arguments.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><p>The resulting hook/stream ID.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L123">services/durable/workflow/index.ts:123</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="interrupt" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>interrupt</span><a href="#interrupt" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">interrupt</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">jobId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">??: </span><a href="../types/types_job.JobInterruptOptions.html" class="tsd-signature-type tsd-kind-type-alias">JobInterruptOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = interrupt</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="interrupt.__type-22.__type-23"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">jobId</span>, <span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Terminates a running workflow job by its ID. The target job's status
is set to an error code indicating abnormal termination, and any
pending activities or timers are cancelled.</p>
<p>This is the workflow-internal interrupt — it can only be called from
within a workflow function. For external interruption, use
<code>hotMesh.interrupt()</code> directly.</p>
<p>The interrupt fires exactly once per workflow execution — the
<code>isSideEffectAllowed</code> guard prevents re-interrupting on replay.</p>
<a id="md:examples-9" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-9" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Cancel a child workflow from the parent</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">supervisorWorkflow</span><span class="hl-1">(): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">childId</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">startChild</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;workers&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;longTask&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">args:</span><span class="hl-1"> [],</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Wait for a timeout, then cancel the child</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">sleepFor</span><span class="hl-1">(</span><span class="hl-2">&#39;5 minutes&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">interrupt</span><span class="hl-1">(</span><span class="hl-6">childId</span><span class="hl-1">, {</span><br/><span class="hl-1">    </span><span class="hl-6">reason:</span><span class="hl-1"> </span><span class="hl-2">&#39;Timed out waiting for child&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">descend:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1">,     </span><span class="hl-4">// also interrupt any grandchild workflows</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Self-interrupt on validation failure</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">validatedWorkflow</span><span class="hl-1">(</span><span class="hl-6">input</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">workflowId</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">getContext</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">validate</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">isValid</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">validate</span><span class="hl-1">(</span><span class="hl-6">input</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (!</span><span class="hl-6">isValid</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">interrupt</span><span class="hl-1">(</span><span class="hl-6">workflowId</span><span class="hl-1">, {</span><br/><span class="hl-1">      </span><span class="hl-6">reason:</span><span class="hl-1"> </span><span class="hl-2">&#39;Invalid input&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">jobId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>The ID of the workflow job to interrupt.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <a href="../types/types_job.JobInterruptOptions.html" class="tsd-signature-type tsd-kind-type-alias">JobInterruptOptions</a><span class="tsd-signature-symbol"> = {}</span></span><div class="tsd-comment tsd-typography"><p>Interruption options (<code>reason</code>, <code>descend</code>, etc.).</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4><p>The result of the interruption, if any.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L125">services/durable/workflow/index.ts:125</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="isSideEffectAllowed" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>is<wbr/>Side<wbr/>Effect<wbr/>Allowed</span><a href="#isSideEffectAllowed" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">is<wbr/>Side<wbr/>Effect<wbr/>Allowed</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">Object</span><span class="tsd-signature-symbol"> = isSideEffectAllowed</span></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L109">services/durable/workflow/index.ts:109</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="proxyActivities" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>proxy<wbr/>Activities</span><a href="#proxyActivities" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">proxy<wbr/>Activities</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#proxyActivities.__type-24.__type-25.ACT">ACT</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?: </span><a href="../types/types_durable.ActivityConfig.html" class="tsd-signature-type tsd-kind-type-alias">ActivityConfig</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><a href="../types/types_durable.ProxyType.html" class="tsd-signature-type tsd-kind-type-alias">ProxyType</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#proxyActivities.__type-24.__type-25.ACT">ACT</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = proxyActivities</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="proxyActivities.__type-24.__type-25"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#proxyActivities.__type-24.__type-25.ACT">ACT</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a href="../types/types_durable.ProxyType.html" class="tsd-signature-type tsd-kind-type-alias">ProxyType</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#proxyActivities.__type-24.__type-25.ACT">ACT</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Creates a typed proxy for calling activity functions with durable execution,
automatic retry, and deterministic replay. This is the primary way to invoke
side-effectful code (HTTP calls, database writes, file I/O) from within a
workflow function.</p>
<p>Activities execute on a <strong>separate worker process</strong> via message queue,
isolating side effects from the deterministic workflow function. Each
proxied call is assigned a unique execution index, and on replay the
stored result is returned without re-executing the activity.</p>
<a id="md:routing" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Routing<a href="#md:routing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><ul>
<li><strong>Default</strong>: Activities route to <code>{workflowTaskQueue}-activity</code>.</li>
<li><strong>Explicit <code>taskQueue</code></strong>: Activities route to <code>{taskQueue}-activity</code>,
enabling shared/global activity worker pools across workflows.</li>
</ul>
<a id="md:retry-policy" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Retry Policy<a href="#md:retry-policy" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><table>
<thead>
<tr>
<th>Option</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>maximumAttempts</code></td>
<td>50</td>
<td>Max retries before the activity is marked as failed</td>
</tr>
<tr>
<td><code>backoffCoefficient</code></td>
<td>2</td>
<td>Exponential backoff multiplier</td>
</tr>
<tr>
<td><code>maximumInterval</code></td>
<td><code>'5m'</code></td>
<td>Cap on delay between retries</td>
</tr>
<tr>
<td><code>throwOnError</code></td>
<td><code>true</code></td>
<td>Throw on activity failure (set <code>false</code> to return the error)</td>
</tr>
</tbody>
</table>
<a id="md:examples-10" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-10" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><span class="hl-5">import</span><span class="hl-1"> </span><span class="hl-3">*</span><span class="hl-1"> </span><span class="hl-5">as</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1"> </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;./activities&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Standard pattern: register and proxy activities inline</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">orderWorkflow</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">validateOrder</span><span class="hl-1">, </span><span class="hl-8">chargePayment</span><span class="hl-1">, </span><span class="hl-8">sendConfirmation</span><span class="hl-1"> } =</span><br/><span class="hl-1">    </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">      </span><span class="hl-6">activities</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">retryPolicy:</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-6">maximumAttempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">backoffCoefficient:</span><span class="hl-1"> </span><span class="hl-9">2</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-6">maximumInterval:</span><span class="hl-1"> </span><span class="hl-2">&#39;30s&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      },</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">validateOrder</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">receipt</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">chargePayment</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">sendConfirmation</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">, </span><span class="hl-6">receipt</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">receipt</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Remote activities: reference a pre-registered worker pool by taskQueue</span><br/><span class="hl-3">interface</span><span class="hl-1"> </span><span class="hl-7">PaymentActivities</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">processPayment</span><span class="hl-1">: (</span><span class="hl-6">amount</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">  </span><span class="hl-0">refundPayment</span><span class="hl-1">: (</span><span class="hl-6">txId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">refundWorkflow</span><span class="hl-1">(</span><span class="hl-6">txId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">refundPayment</span><span class="hl-1"> } =</span><br/><span class="hl-1">    </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-7">PaymentActivities</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">      </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;payments&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">retryPolicy:</span><span class="hl-1"> { </span><span class="hl-6">maximumAttempts:</span><span class="hl-1"> </span><span class="hl-9">5</span><span class="hl-1"> },</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">refundPayment</span><span class="hl-1">(</span><span class="hl-6">txId</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Interceptor with shared activity pool</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">auditInterceptor</span><span class="hl-1">: </span><span class="hl-7">WorkflowInterceptor</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-0">execute</span><span class="hl-1">(</span><span class="hl-6">ctx</span><span class="hl-1">, </span><span class="hl-6">next</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">auditLog</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;{</span><br/><span class="hl-1">      </span><span class="hl-0">auditLog</span><span class="hl-1">: (</span><span class="hl-6">id</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-6">action</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-3">=&gt;</span><span class="hl-1"> </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt;;</span><br/><span class="hl-1">    }&gt;({</span><br/><span class="hl-1">      </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;shared-audit&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">      </span><span class="hl-6">retryPolicy:</span><span class="hl-1"> { </span><span class="hl-6">maximumAttempts:</span><span class="hl-1"> </span><span class="hl-9">3</span><span class="hl-1"> },</span><br/><span class="hl-1">    });</span><br/><br/><span class="hl-1">    </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">auditLog</span><span class="hl-1">(</span><span class="hl-6">ctx</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;workflowId&#39;</span><span class="hl-1">), </span><span class="hl-2">&#39;started&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">next</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">auditLog</span><span class="hl-1">(</span><span class="hl-6">ctx</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;workflowId&#39;</span><span class="hl-1">), </span><span class="hl-2">&#39;completed&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1">;</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">};</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Graceful error handling (no throw)</span><br/><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">riskyOperation</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;({</span><br/><span class="hl-1">  </span><span class="hl-6">activities</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">retryPolicy:</span><span class="hl-1"> { </span><span class="hl-6">maximumAttempts:</span><span class="hl-1"> </span><span class="hl-9">1</span><span class="hl-1">, </span><span class="hl-6">throwOnError:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1"> },</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">result</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">riskyOperation</span><span class="hl-1">();</span><br/><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">result</span><span class="hl-1"> </span><span class="hl-3">instanceof</span><span class="hl-1"> </span><span class="hl-7">Error</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">// handle gracefully</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="proxyActivities.__type-24.__type-25.ACT" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">ACT</span></span><div class="tsd-comment tsd-typography"><p>The activity type map (use <code>typeof activities</code> for inline registration).</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">options</span>: <a href="../types/types_durable.ActivityConfig.html" class="tsd-signature-type tsd-kind-type-alias">ActivityConfig</a></span><div class="tsd-comment tsd-typography"><p>Activity configuration including retry policy and routing.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <a href="../types/types_durable.ProxyType.html" class="tsd-signature-type tsd-kind-type-alias">ProxyType</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#proxyActivities.__type-24.__type-25.ACT">ACT</a><span class="tsd-signature-symbol">&gt;</span></h4><p>A typed proxy object mapping activity names to their durable wrappers.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L118">services/durable/workflow/index.ts:118</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="random" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>random</span><a href="#random" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">random</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = random</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="random.__type-26.__type-27"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">number</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns a deterministic pseudo-random number between 0 and 1. The value
is derived from the current execution counter, so it produces the
<strong>same result</strong> on every replay of the workflow at this execution point.</p>
<p>Use this instead of <code>Math.random()</code> inside workflow functions.
<code>Math.random()</code> is non-deterministic and would break replay correctness.</p>
<a id="md:examples-11" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-11" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Generate a deterministic unique suffix</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">uniqueWorkflow</span><span class="hl-1">(): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">suffix</span><span class="hl-1"> = </span><span class="hl-6">Math</span><span class="hl-1">.</span><span class="hl-0">floor</span><span class="hl-1">(</span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">random</span><span class="hl-1">() * </span><span class="hl-9">10000</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-2">`item-</span><span class="hl-3">${</span><span class="hl-6">suffix</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// A/B test routing (deterministic per workflow execution)</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">experimentWorkflow</span><span class="hl-1">(</span><span class="hl-6">userId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">variantA</span><span class="hl-1">, </span><span class="hl-8">variantB</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">random</span><span class="hl-1">() &lt; </span><span class="hl-9">0.5</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">variantA</span><span class="hl-1">(</span><span class="hl-6">userId</span><span class="hl-1">);</span><br/><span class="hl-1">  } </span><span class="hl-5">else</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">variantB</span><span class="hl-1">(</span><span class="hl-6">userId</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">number</span></h4><p>A deterministic pseudo-random number in [0, 1).</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L121">services/durable/workflow/index.ts:121</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="search" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>search</span><a href="#search" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">search</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="services_durable_search.Search.html" class="tsd-signature-type tsd-kind-class">Search</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = search</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="search.__type-28.__type-29"><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="services_durable_search.Search.html" class="tsd-signature-type tsd-kind-class">Search</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Returns a <code>Search</code> session handle for reading and writing key-value data
on the workflow's backend HASH record. Search fields are flat string
key-value pairs stored alongside the job state, making them queryable
via <code>Durable.Client.workflow.search()</code> (FT.SEARCH).</p>
<p>Each call produces a unique session ID tied to the deterministic
execution counter, ensuring correct replay behavior.</p>
<p>Use <code>search()</code> for flat, indexable key-value data. For structured
JSON documents, use <code>entity()</code> instead.</p>
<a id="md:examples-12" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-12" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">orderWorkflow</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">search</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">search</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Write searchable fields</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">search</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">orderId</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">status:</span><span class="hl-1"> </span><span class="hl-2">&#39;processing&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">createdAt:</span><span class="hl-1"> </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-0">Date</span><span class="hl-1">().</span><span class="hl-0">toISOString</span><span class="hl-1">(),</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">processOrder</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">processOrder</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Update status</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">search</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">({ </span><span class="hl-6">status:</span><span class="hl-1"> </span><span class="hl-2">&#39;completed&#39;</span><span class="hl-1"> });</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Read a field back</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">status</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">search</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;status&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Increment a numeric counter</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">counterWorkflow</span><span class="hl-1">(): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">number</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">search</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">search</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">search</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">({ </span><span class="hl-6">count:</span><span class="hl-1"> </span><span class="hl-2">&#39;0&#39;</span><span class="hl-1"> });</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">search</span><span class="hl-1">.</span><span class="hl-0">incr</span><span class="hl-1">(</span><span class="hl-2">&#39;count&#39;</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">search</span><span class="hl-1">.</span><span class="hl-0">incr</span><span class="hl-1">(</span><span class="hl-2">&#39;count&#39;</span><span class="hl-1">, </span><span class="hl-9">1</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-0">Number</span><span class="hl-1">(</span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">search</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;count&#39;</span><span class="hl-1">)); </span><span class="hl-4">// 2</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="services_durable_search.Search.html" class="tsd-signature-type tsd-kind-class">Search</a><span class="tsd-signature-symbol">&gt;</span></h4><p>A search session scoped to the current workflow job.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L119">services/durable/workflow/index.ts:119</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="signal" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>signal</span><a href="#signal" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">signal</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">signalId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span>, <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = signal</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="signal.__type-30.__type-31"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">signalId</span>, <span class="tsd-kind-parameter">data</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Sends a signal payload to a paused workflow thread that is awaiting this
<code>signalId</code> via <code>waitFor()</code>. Signals are the primary mechanism for
inter-workflow communication and for delivering results from hook
functions back to the orchestrating workflow.</p>
<p><code>signal</code> is the <strong>send</strong> side of the coordination pair. The <strong>receive</strong>
side is <code>waitFor()</code>. A signal can be sent from:</p>
<ul>
<li>Another workflow function</li>
<li>A hook function (most common pattern with <code>execHook</code>)</li>
<li>An external client via <code>Durable.Client.workflow.signal()</code></li>
</ul>
<p>Signals fire exactly once per workflow execution — the <code>isSideEffectAllowed</code>
guard ensures they are not re-sent on replay.</p>
<a id="md:examples-13" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-13" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Hook function that signals completion back to the parent workflow</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">processOrder</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-6">orderId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-6">signalInfo</span><span class="hl-1">?: { </span><span class="hl-6">signal</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">; </span><span class="hl-6">$durable</span><span class="hl-1">: </span><span class="hl-7">boolean</span><span class="hl-1"> },</span><br/><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;{ </span><span class="hl-6">total</span><span class="hl-1">: </span><span class="hl-7">number</span><span class="hl-1"> }&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">calculateTotal</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">total</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">calculateTotal</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Signal the waiting workflow with the result</span><br/><span class="hl-1">  </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">signalInfo</span><span class="hl-1">?.</span><span class="hl-6">signal</span><span class="hl-1">) {</span><br/><span class="hl-1">    </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">signal</span><span class="hl-1">(</span><span class="hl-6">signalInfo</span><span class="hl-1">.</span><span class="hl-6">signal</span><span class="hl-1">, { </span><span class="hl-6">total</span><span class="hl-1"> });</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> { </span><span class="hl-6">total</span><span class="hl-1"> };</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Cross-workflow coordination: workflow A signals workflow B</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">coordinatorWorkflow</span><span class="hl-1">(): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">prepareData</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">data</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">prepareData</span><span class="hl-1">();</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Signal another workflow that is paused on waitFor(&#39;data-ready&#39;)</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">signal</span><span class="hl-1">(</span><span class="hl-2">&#39;data-ready&#39;</span><span class="hl-1">, { </span><span class="hl-6">payload:</span><span class="hl-1"> </span><span class="hl-6">data</span><span class="hl-1"> });</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// External signal from an API handler (outside a workflow)</span><br/><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">client</span><span class="hl-1"> = </span><span class="hl-3">new</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-0">Client</span><span class="hl-1">({ </span><span class="hl-6">connection</span><span class="hl-1"> });</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">client</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">signal</span><span class="hl-1">(</span><span class="hl-2">&#39;approval-signal&#39;</span><span class="hl-1">, { </span><span class="hl-6">approved:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">signalId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>Unique signal identifier that matches a <code>waitFor()</code> call.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><span class="tsd-kind-parameter">data</span>: <span class="tsd-signature-type">Record</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">any</span><span class="tsd-signature-symbol">&gt;</span></span><div class="tsd-comment tsd-typography"><p>The payload to deliver to the waiting workflow.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><p>The resulting hook/stream ID.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L122">services/durable/workflow/index.ts:122</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="sleepFor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>sleep<wbr/>For</span><a href="#sleepFor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">sleep<wbr/>For</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">duration</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = sleepFor</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="sleepFor.__type-32.__type-33"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">duration</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Suspends workflow execution for a durable, crash-safe duration. Unlike
<code>setTimeout</code>, this sleep survives process restarts — the engine persists
the wake-up time and resumes the workflow when the timer expires.</p>
<p>On replay, <code>sleepFor</code> returns immediately with the stored duration
(no actual waiting occurs). This makes it safe for deterministic
re-execution.</p>
<a id="md:duration-formats" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Duration Formats<a href="#md:duration-formats" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Accepts any human-readable duration string parsed by the <code>ms</code> module:
<code>'5 seconds'</code>, <code>'30s'</code>, <code>'2 minutes'</code>, <code>'1m'</code>, <code>'1 hour'</code>, <code>'2h'</code>,
<code>'1 day'</code>, <code>'7d'</code>.</p>
<a id="md:examples-14" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-14" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Simple delay before continuing</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">reminderWorkflow</span><span class="hl-1">(</span><span class="hl-6">userId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">sendReminder</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Wait 24 hours (survives server restarts)</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">sleepFor</span><span class="hl-1">(</span><span class="hl-2">&#39;24 hours&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">sendReminder</span><span class="hl-1">(</span><span class="hl-6">userId</span><span class="hl-1">, </span><span class="hl-2">&#39;Your trial expires tomorrow&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Wait another 6 days</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">sleepFor</span><span class="hl-1">(</span><span class="hl-2">&#39;6 days&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">sendReminder</span><span class="hl-1">(</span><span class="hl-6">userId</span><span class="hl-1">, </span><span class="hl-2">&#39;Your trial has expired&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Exponential backoff with retry loop</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">pollingWorkflow</span><span class="hl-1">(</span><span class="hl-6">resourceId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">checkStatus</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><br/><span class="hl-1">  </span><span class="hl-5">for</span><span class="hl-1"> (</span><span class="hl-3">let</span><span class="hl-1"> </span><span class="hl-6">attempt</span><span class="hl-1"> = </span><span class="hl-9">0</span><span class="hl-1">; </span><span class="hl-6">attempt</span><span class="hl-1"> &lt; </span><span class="hl-9">10</span><span class="hl-1">; </span><span class="hl-6">attempt</span><span class="hl-1">++) {</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">status</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">checkStatus</span><span class="hl-1">(</span><span class="hl-6">resourceId</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">if</span><span class="hl-1"> (</span><span class="hl-6">status</span><span class="hl-1"> === </span><span class="hl-2">&#39;ready&#39;</span><span class="hl-1">) </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">status</span><span class="hl-1">;</span><br/><br/><span class="hl-1">    </span><span class="hl-4">// Exponential backoff: 1s, 2s, 4s, 8s, ...</span><br/><span class="hl-1">    </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">delay</span><span class="hl-1"> = </span><span class="hl-6">Math</span><span class="hl-1">.</span><span class="hl-0">pow</span><span class="hl-1">(</span><span class="hl-9">2</span><span class="hl-1">, </span><span class="hl-6">attempt</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">sleepFor</span><span class="hl-1">(</span><span class="hl-2">`</span><span class="hl-3">${</span><span class="hl-6">delay</span><span class="hl-3">}</span><span class="hl-2"> seconds`</span><span class="hl-1">);</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-2">&#39;timeout&#39;</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Race a sleep against an activity</span><br/><span class="hl-3">const</span><span class="hl-1"> [</span><span class="hl-8">result</span><span class="hl-1">, </span><span class="hl-8">_</span><span class="hl-1">] = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-7">Promise</span><span class="hl-1">.</span><span class="hl-0">all</span><span class="hl-1">([</span><br/><span class="hl-1">  </span><span class="hl-6">activities</span><span class="hl-1">.</span><span class="hl-0">fetchData</span><span class="hl-1">(</span><span class="hl-6">id</span><span class="hl-1">),</span><br/><span class="hl-1">  </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">sleepFor</span><span class="hl-1">(</span><span class="hl-2">&#39;30 seconds&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">]);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">duration</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>A human-readable duration string.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">number</span><span class="tsd-signature-symbol">&gt;</span></h4><p>The resolved duration in seconds.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L127">services/durable/workflow/index.ts:127</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="startChild" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>start<wbr/>Child</span><a href="#startChild" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">start<wbr/>Child</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">: </span><a href="../types/types_durable.WorkflowOptions.html" class="tsd-signature-type tsd-kind-type-alias">WorkflowOptions</a><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = startChild</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="startChild.__type-34.__type-35"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">options</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Spawns a child workflow in fire-and-forget mode. The parent workflow
continues immediately without waiting for the child to complete.
Returns the child's job ID for later reference (e.g., to interrupt
or query the child).</p>
<p>This is a convenience wrapper around <code>execChild</code> with <code>await: false</code>.</p>
<a id="md:example-3" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Example<a href="#md:example-3" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">dispatchWorkflow</span><span class="hl-1">(</span><span class="hl-6">taskId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-4">// Fire-and-forget: start the child and continue immediately</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">childJobId</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">startChild</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;background&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;longRunningTask&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">taskId</span><span class="hl-1">],</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Optionally store the child ID for monitoring</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">search</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">search</span><span class="hl-1">();</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">search</span><span class="hl-1">.</span><span class="hl-0">set</span><span class="hl-1">({ </span><span class="hl-6">childJobId</span><span class="hl-1"> });</span><br/><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">childJobId</span><span class="hl-1">;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">options</span>: <a href="../types/types_durable.WorkflowOptions.html" class="tsd-signature-type tsd-kind-type-alias">WorkflowOptions</a></span><div class="tsd-comment tsd-typography"><p>Child workflow configuration.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">&gt;</span></h4><p>The child workflow's job ID.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L115">services/durable/workflow/index.ts:115</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="trace" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>trace</span><a href="#trace" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">trace</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">attributes</span><span class="tsd-signature-symbol">: </span><a href="../types/types_serializer.StringScalarType.html" class="tsd-signature-type tsd-kind-type-alias">StringScalarType</a>, <span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">??: </span><span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">once</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = trace</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="trace.__type-36.__type-37"><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">attributes</span>, <span class="tsd-kind-parameter">config</span><span class="tsd-signature-symbol">?</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Emits a distributed trace span to the configured telemetry sink
(e.g., OpenTelemetry). The span is linked to the workflow's trace
context (<code>traceId</code>, <code>spanId</code>) for end-to-end observability across
workflow executions, activities, and child workflows.</p>
<p>By default (<code>config.once = true</code>), the trace is emitted exactly once
per workflow execution — it will not re-fire on replay.</p>
<a id="md:examples-15" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-15" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Emit trace spans at key workflow milestones</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">orderWorkflow</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">trace</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;order.id&#39;</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-6">orderId</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;order.stage&#39;</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-2">&#39;started&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">processPayment</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">processPayment</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">trace</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;order.id&#39;</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-6">orderId</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-2">&#39;order.stage&#39;</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-2">&#39;payment_completed&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  });</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Trace on every re-execution (for debugging replay behavior)</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">trace</span><span class="hl-1">(</span><br/><span class="hl-1">  { </span><span class="hl-2">&#39;debug.counter&#39;</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-6">counter</span><span class="hl-1">, </span><span class="hl-2">&#39;debug.phase&#39;</span><span class="hl-6">:</span><span class="hl-1"> </span><span class="hl-2">&#39;retry&#39;</span><span class="hl-1"> },</span><br/><span class="hl-1">  { </span><span class="hl-6">once:</span><span class="hl-1"> </span><span class="hl-3">false</span><span class="hl-1"> },</span><br/><span class="hl-1">);</span>
</code><button type="button">Copy</button></pre>

</div><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">attributes</span>: <a href="../types/types_serializer.StringScalarType.html" class="tsd-signature-type tsd-kind-type-alias">StringScalarType</a></span><div class="tsd-comment tsd-typography"><p>Key-value attributes to attach to the trace span.</p>
</div><div class="tsd-comment tsd-typography"></div></li><li><span><code class="tsd-tag">Optional</code><span class="tsd-kind-parameter">config</span>: <span class="tsd-signature-symbol">{ </span><br/><span>    </span><span class="tsd-kind-property">once</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">; </span><br/><span class="tsd-signature-symbol">}</span><span class="tsd-signature-symbol"> = ...</span></span><div class="tsd-comment tsd-typography"><p>If <code>true</code>, trace fires only once (idempotent).</p>
</div><div class="tsd-comment tsd-typography"></div><ul class="tsd-parameters"><li class="tsd-parameter"><h5><span class="tsd-kind-property">once</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">boolean</span></h5></li></ul></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">boolean</span><span class="tsd-signature-symbol">&gt;</span></h4><p><code>true</code> if tracing succeeded.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L110">services/durable/workflow/index.ts:110</a></li></ul></aside></section><section class="tsd-panel tsd-member"><a id="waitFor" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>wait<wbr/>For</span><a href="#waitFor" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><div class="tsd-signature"><span class="tsd-kind-property">wait<wbr/>For</span><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#waitFor.__type-38.__type-39.T-5">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">signalId</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#waitFor.__type-38.__type-39.T-5">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> = waitFor</span></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature" id="waitFor.__type-38.__type-39"><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#waitFor.__type-38.__type-39.T-5">T</a><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">(</span><span class="tsd-kind-parameter">signalId</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#waitFor.__type-38.__type-39.T-5">T</a><span class="tsd-signature-symbol">&gt;</span></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Pauses the workflow until a signal with the given <code>signalId</code> is received.
The workflow suspends durably — it survives process restarts and will
resume exactly once when the matching <code>signal()</code> call delivers data.</p>
<p><code>waitFor</code> is the <strong>receive</strong> side of the signal coordination pair.
The <strong>send</strong> side is <code>signal()</code>, which can be called from another
workflow, a hook function, or externally via <code>Durable.Client.workflow.signal()</code>.</p>
<p>On replay, <code>waitFor</code> returns the previously stored signal payload
immediately (no actual suspension occurs).</p>
<a id="md:examples-16" class="tsd-anchor"></a><h2 class="tsd-anchor-link">Examples<a href="#md:examples-16" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="typescript"><span class="hl-5">import</span><span class="hl-1"> { </span><span class="hl-6">Durable</span><span class="hl-1"> } </span><span class="hl-5">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@hotmeshio/hotmesh&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">// Human-in-the-loop approval pattern</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">approvalWorkflow</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">boolean</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> { </span><span class="hl-8">submitForReview</span><span class="hl-1"> } = </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">proxyActivities</span><span class="hl-1">&lt;</span><span class="hl-3">typeof</span><span class="hl-1"> </span><span class="hl-6">activities</span><span class="hl-1">&gt;();</span><br/><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-0">submitForReview</span><span class="hl-1">(</span><span class="hl-6">orderId</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Pause indefinitely until a human approves or rejects</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">decision</span><span class="hl-1"> = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">waitFor</span><span class="hl-1">&lt;{ </span><span class="hl-6">approved</span><span class="hl-1">: </span><span class="hl-7">boolean</span><span class="hl-1"> }&gt;(</span><span class="hl-2">&#39;approval&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-6">decision</span><span class="hl-1">.</span><span class="hl-6">approved</span><span class="hl-1">;</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">// Later, from outside the workflow (e.g., an API handler):</span><br/><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">client</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">signal</span><span class="hl-1">(</span><span class="hl-2">&#39;approval&#39;</span><span class="hl-1">, { </span><span class="hl-6">approved:</span><span class="hl-1"> </span><span class="hl-3">true</span><span class="hl-1"> });</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Fan-in: wait for multiple signals in parallel</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">gatherWorkflow</span><span class="hl-1">(): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;[</span><span class="hl-7">string</span><span class="hl-1">, </span><span class="hl-7">number</span><span class="hl-1">]&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> [</span><span class="hl-8">name</span><span class="hl-1">, </span><span class="hl-8">score</span><span class="hl-1">] = </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-7">Promise</span><span class="hl-1">.</span><span class="hl-0">all</span><span class="hl-1">([</span><br/><span class="hl-1">    </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">waitFor</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;(</span><span class="hl-2">&#39;name-signal&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">    </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">waitFor</span><span class="hl-1">&lt;</span><span class="hl-7">number</span><span class="hl-1">&gt;(</span><span class="hl-2">&#39;score-signal&#39;</span><span class="hl-1">),</span><br/><span class="hl-1">  ]);</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> [</span><span class="hl-6">name</span><span class="hl-1">, </span><span class="hl-6">score</span><span class="hl-1">];</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-4">// Paired with hook: spawn work and wait for the result</span><br/><span class="hl-5">export</span><span class="hl-1"> </span><span class="hl-3">async</span><span class="hl-1"> </span><span class="hl-3">function</span><span class="hl-1"> </span><span class="hl-0">orchestrator</span><span class="hl-1">(</span><span class="hl-6">input</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">  </span><span class="hl-3">const</span><span class="hl-1"> </span><span class="hl-8">signalId</span><span class="hl-1"> = </span><span class="hl-2">`result-</span><span class="hl-3">${</span><span class="hl-6">Durable</span><span class="hl-12">.</span><span class="hl-6">workflow</span><span class="hl-12">.</span><span class="hl-0">random</span><span class="hl-12">()</span><span class="hl-3">}</span><span class="hl-2">`</span><span class="hl-1">;</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Spawn a hook that will signal back when done</span><br/><span class="hl-1">  </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">hook</span><span class="hl-1">({</span><br/><span class="hl-1">    </span><span class="hl-6">taskQueue:</span><span class="hl-1"> </span><span class="hl-2">&#39;processors&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">workflowName:</span><span class="hl-1"> </span><span class="hl-2">&#39;processItem&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-6">args:</span><span class="hl-1"> [</span><span class="hl-6">input</span><span class="hl-1">, </span><span class="hl-6">signalId</span><span class="hl-1">],</span><br/><span class="hl-1">  });</span><br/><br/><span class="hl-1">  </span><span class="hl-4">// Wait for the hook to signal completion</span><br/><span class="hl-1">  </span><span class="hl-5">return</span><span class="hl-1"> </span><span class="hl-5">await</span><span class="hl-1"> </span><span class="hl-6">Durable</span><span class="hl-1">.</span><span class="hl-6">workflow</span><span class="hl-1">.</span><span class="hl-0">waitFor</span><span class="hl-1">&lt;</span><span class="hl-7">string</span><span class="hl-1">&gt;(</span><span class="hl-6">signalId</span><span class="hl-1">);</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

</div><section class="tsd-panel"><h4>Type Parameters</h4><ul class="tsd-type-parameter-list"><li><span><a id="waitFor.__type-38.__type-39.T-5" class="tsd-anchor"></a><span class="tsd-kind-type-parameter">T</span></span><div class="tsd-comment tsd-typography"><p>The type of data expected in the signal payload.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></section><div class="tsd-parameters"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameter-list"><li><span><span class="tsd-kind-parameter">signalId</span>: <span class="tsd-signature-type">string</span></span><div class="tsd-comment tsd-typography"><p>A unique signal identifier shared by the sender and receiver.</p>
</div><div class="tsd-comment tsd-typography"></div></li></ul></div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type tsd-kind-type-parameter" href="services_durable_workflow.WorkflowService.html#waitFor.__type-38.__type-39.T-5">T</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The data payload associated with the received signal.</p>
<div class="tsd-comment tsd-typography"></div></li></ul></li></ul></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L128">services/durable/workflow/index.ts:128</a></li></ul></aside></section></section></details><details class="tsd-panel-group tsd-member-group tsd-accordion" open><summary class="tsd-accordion-summary" data-key="section-Methods"><h2><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg> Methods</h2></summary><section><section class="tsd-panel tsd-member"><a id="getHotMesh" class="tsd-anchor"></a><h3 class="tsd-anchor-link"><code class="tsd-tag">Static</code><span>get<wbr/>Hot<wbr/>Mesh</span><a href="#getHotMesh" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></h3><ul class="tsd-signatures"><li class="tsd-signature tsd-anchor-link"><a id="getHotMesh.getHotMesh-1" class="tsd-anchor"></a><span class="tsd-kind-call-signature">get<wbr/>Hot<wbr/>Mesh</span><span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="services_hotmesh.HotMesh.html" class="tsd-signature-type tsd-kind-class">HotMesh</a><span class="tsd-signature-symbol">&gt;</span><a href="#getHotMesh.getHotMesh-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-anchor"></use></svg></a></li><li class="tsd-description"><div class="tsd-comment tsd-typography"><p>Return a handle to the HotMesh client hosting the workflow execution.</p>
</div><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><a href="services_hotmesh.HotMesh.html" class="tsd-signature-type tsd-kind-class">HotMesh</a><span class="tsd-signature-symbol">&gt;</span></h4><p>The HotMesh client instance.</p>
<div class="tsd-comment tsd-typography"></div><aside class="tsd-sources"><ul><li>Defined in <a href="https://github.com/hotmeshio/sdk-typescript/blob/30dc69aaa157be46313cf9c71d7ccdeeb19d2163/services/durable/workflow/index.ts#L134">services/durable/workflow/index.ts:134</a></li></ul></aside></li></ul></section></section></details></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><h3><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#md:core-primitives"><span>Core <wbr/>Primitives</span></a><a href="#md:data--observability"><span>Data &amp; <wbr/>Observability</span></a><a href="#md:utilities"><span>Utilities</span></a><a href="#md:example"><span>Example</span></a><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="tsd-otp-Properties"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Properties</summary><div><a href="#all" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>all</span></a><ul><li><ul><li><a href="#md:example-1"><span>Example</span></a></li></ul></li></ul><a href="#didInterrupt" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>did<wbr/>Interrupt</span></a><ul><li><ul><li><a href="#md:recognized-error-types"><span>Recognized <wbr/>Error <wbr/>Types</span></a></li><li><a href="#md:examples"><span>Examples</span></a></li></ul></li></ul><a href="#didRun" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>did<wbr/>Run</span></a><a href="#emit" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>emit</span></a><ul><li><ul><li><a href="#md:examples-1"><span>Examples</span></a></li></ul></li></ul><a href="#enrich" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>enrich</span></a><ul><li><ul><li><a href="#md:example-2"><span>Example</span></a></li></ul></li></ul><a href="#entity" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>entity</span></a><ul><li><ul><li><a href="#md:examples-2"><span>Examples</span></a></li></ul></li></ul><a href="#execChild" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>exec<wbr/>Child</span></a><ul><li><ul><li><a href="#md:child-job-id"><span>Child <wbr/>Job ID</span></a></li><li><a href="#md:examples-3"><span>Examples</span></a></li></ul></li></ul><a href="#execHook" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>exec<wbr/>Hook</span></a><ul><li><ul><li><a href="#md:signal-injection"><span>Signal <wbr/>Injection</span></a></li><li><a href="#md:difference-from-execchild"><span>Difference from exec<wbr/>Child</span></a></li><li><a href="#md:examples-4"><span>Examples</span></a></li></ul></li></ul><a href="#execHookBatch" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>exec<wbr/>Hook<wbr/>Batch</span></a><ul><li><ul><li><a href="#md:three-phase-execution"><span>Three-<wbr/>Phase <wbr/>Execution</span></a></li><li><a href="#md:examples-5"><span>Examples</span></a></li></ul></li></ul><a href="#executeChild" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>execute<wbr/>Child</span></a><ul><li><ul><li><a href="#md:child-job-id-1"><span>Child <wbr/>Job ID</span></a></li><li><a href="#md:examples-6"><span>Examples</span></a></li></ul></li></ul><a href="#getContext" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>get<wbr/>Context</span></a><ul><li><ul><li><a href="#md:examples-7"><span>Examples</span></a></li></ul></li></ul><a href="#hook" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>hook</span></a><ul><li><ul><li><a href="#md:target-resolution"><span>Target <wbr/>Resolution</span></a></li><li><a href="#md:idempotency"><span>Idempotency</span></a></li><li><a href="#md:examples-8"><span>Examples</span></a></li></ul></li></ul><a href="#interrupt" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>interrupt</span></a><ul><li><ul><li><a href="#md:examples-9"><span>Examples</span></a></li></ul></li></ul><a href="#isSideEffectAllowed" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>is<wbr/>Side<wbr/>Effect<wbr/>Allowed</span></a><a href="#proxyActivities" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>proxy<wbr/>Activities</span></a><ul><li><ul><li><a href="#md:routing"><span>Routing</span></a></li><li><a href="#md:retry-policy"><span>Retry <wbr/>Policy</span></a></li><li><a href="#md:examples-10"><span>Examples</span></a></li></ul></li></ul><a href="#random" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>random</span></a><ul><li><ul><li><a href="#md:examples-11"><span>Examples</span></a></li></ul></li></ul><a href="#search" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>search</span></a><ul><li><ul><li><a href="#md:examples-12"><span>Examples</span></a></li></ul></li></ul><a href="#signal" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>signal</span></a><ul><li><ul><li><a href="#md:examples-13"><span>Examples</span></a></li></ul></li></ul><a href="#sleepFor" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>sleep<wbr/>For</span></a><ul><li><ul><li><a href="#md:duration-formats"><span>Duration <wbr/>Formats</span></a></li><li><a href="#md:examples-14"><span>Examples</span></a></li></ul></li></ul><a href="#startChild" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>start<wbr/>Child</span></a><ul><li><ul><li><a href="#md:example-3"><span>Example</span></a></li></ul></li></ul><a href="#trace" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>trace</span></a><ul><li><ul><li><a href="#md:examples-15"><span>Examples</span></a></li></ul></li></ul><a href="#waitFor" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1024"></use></svg><span>wait<wbr/>For</span></a><ul><li><a href="#md:examples-16"><span>Examples</span></a></li></ul></div></details><details open class="tsd-accordion tsd-page-navigation-section"><summary class="tsd-accordion-summary" data-key="tsd-otp-Methods"><svg width="20" height="20" viewBox="0 0 24 24" fill="none"><use href="../assets/icons.svg#icon-chevronDown"></use></svg>Methods</summary><div><a href="#getHotMesh" class=""><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-2048"></use></svg><span>get<wbr/>Hot<wbr/>Mesh</span></a></div></details></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="../modules.html"><svg class="tsd-kind-icon" viewBox="0 0 24 24"><use href="../assets/icons.svg#icon-1"></use></svg><span>@hotmeshio/hotmesh</span></a><ul class="tsd-small-nested-navigation" id="tsd-nav-container" data-base=".."><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
